<template>
  <div class="chart-container">
    <div ref="chart" class="chart"></div>
  </div>
</template>

<script>
import ApexCharts from 'apexcharts';

export default {
  name: 'TimeSeriesChart',
  props: {
    dataset: {
      type: String,
      required: true,
    },
  },
  mounted() {
    this.renderChart();
  },
  watch: {
    dataset: {
      immediate: true,
      handler() {
        this.updateChart();
      },
    },
  },
  methods: {
    renderChart() {
      const options = {
        chart: {
          type: 'line',
          width: '100%',
          height: '400px',
          animations: {
            enabled: true, // Enable animations
            easing: 'easeinout', // Animation easing
            speed: 1000, // Animation speed
          },
        },
        series: [],
        xaxis: {
          type: 'numeric',
          offsetX: 15,
          labels: {
            show: true,
            style: {
              fontSize: '12px',
              fontFamily: 'Arial, sans-serif',
              fontWeight: 400,
            },
          },
          title: {
            text: this.getDatasetXLabel(this.dataset) || 'X-axis',
            style: {
              fontSize: '14px',
              fontFamily: 'Arial, sans-serif',
              fontWeight: 600,
            },
          },
        },
        yaxis: {
          labels: {
            show: true,
            floating: true,
            style: {
              fontSize: '14px',
              fontFamily: 'Arial, sans-serif',
              fontWeight: 400,
            },
            formatter: function (value) {
              return value.toFixed(3);
            },
          },
          title: {
            text: this.getDatasetYLabel(this.dataset) || 'Y-axis',
            style: {
              fontSize: '14px',
              fontFamily: 'Arial, sans-serif',
              fontWeight: 600,
            },
          },
        },
      };

      this.chart = new ApexCharts(this.$refs.chart, options);
      this.chart.render();
    },
    updateChart() {
      if (this.chart) {
        const data = this.getDatasetData(this.dataset);
        this.chart.updateSeries([{ name: 'Data', data }]);
        this.chart.updateOptions({
          xaxis: {
            title: {
              text: this.getDatasetXLabel(this.dataset) || 'X-axis',
            },
          },
          yaxis: {
            title: {
              text: this.getDatasetYLabel(this.dataset) || 'Y-axis',
            },
          },
        });
      }
    },
    getDatasetData(dataset) {
      switch (dataset) {
        case 'ds1':
          return [
            [0, 0.0335],
            [1, 0.130],
            [2, 0.956],
            [3, 0.9607],
            [4, 0.9213],
            [5, 0.665],
            [6, 0.9352],
            [7, 0.0975],
            [8, 0.0188],
            [9, 0.9003],
            [10, 0.9716],
            [11, 0.386],
            [12, 0.175],
            [13, 0.162],
            [14, 0.658],
            [15, 0.615],
            [16, 0.278],
            [17, 0.2091],
            [18, 0.4123],
            [19, 0.3055],
            [20, 0.4743],
            [21, 0.8917],
            [22, 0.5996],
            [23, 0.7167],
            [24, 0.6417],
            [25, 0.2496],
            [26, 0.1031],
            [27, 0.0449],
            [28, 0.4958],
            [29, 0.7442],
            [30, 0.2288],
            [31, 0.6604],
            [32, 0.5335],
            [33, 0.9414],
            [34, 0.7667],
            [35, 0.9108],
            [36, 0.3206],
            [37, 0.3855],
            [38, 0.4971],
            [39, 0.4118],
            [40, 0.1765],
            [41, 0.0475],
            [42, 0.1467],
            [43, 0.9478],
            [44, 0.5204],
            [45, 0.5209],
            [46, 0.7162],
            [47, 0.4119],
            [48, 0.8987],
            [49, 0.6416],
            [50, 0.348274],
          ];
        case 'ds2':
          return [
            [0.0, 0.0],
            [0.0424555, 0.044721],
            [0.084911, 0.084199],
            [0.1263663, 0.121652],
            [0.168822, 0.167586],
            [0.2102774, 0.203308],
            [0.2537327, 0.251656],
            [0.295188, 0.290274],
            [0.337644, 0.33084],
            [0.3790993, 0.37944],
            [0.421555, 0.40926],
            [0.4630104, 0.443454],
            [0.506465, 0.48416],
            [0.548921, 0.52166],
            [0.590376, 0.55601],
            [0.632833, 0.59154],
            [0.674287, 0.62491],
            [0.716742, 0.65722],
            [0.759199, 0.68827],
            [0.801654, 0.71853],
            [0.84311, 0.74688],
            [0.885565, 0.77413],
            [0.927021, 0.8009],
            [0.969476, 0.82461],
            [1.01293, 0.84798],
            [1.054387, 0.86948],
            [1.096843, 0.88938],
            [1.138297, 0.90851],
            [1.180753, 0.9249],
            [1.22221, 0.94007],
            [1.265665, 0.95306],
            [1.307119, 0.96536],
            [1.349575, 0.97557],
            [1.39103, 0.98397],
            [1.433485, 0.99098],
            [1.47594, 0.99557],
            [1.518397, 0.99889],
            [1.560853, 0.99992],
            [1.602307, 0.99985],
            [1.644763, 0.99707],
            [1.68622, 0.99322],
            [1.728673, 0.98731],
            [1.77113, 0.98008],
            [1.813585, 0.97088],
            [1.855041, 0.95909],
            [1.897495, 0.94778],
            [1.939951, 0.93205],
            [1.981407, 0.91651],
            [2.02486, 0.89897],
            [2.06632, 0.87978],
            [2.108774, 0.85849],
            [2.150227, 0.83657],
            [2.192686, 0.81214],
            [2.23414, 0.78743],
            [2.277593, 0.76067],
            [2.31905, 0.73273],
            [2.361506, 0.70326],
            [2.40396, 0.67275],
            [2.44542, 0.64092],
            [2.48787, 0.60805],
            [2.53033, 0.57406],
            [2.572784, 0.53911],
            [2.614238, 0.5039],
            [2.656696, 0.46619],
            [2.69815, 0.42843],
            [2.740604, 0.38908],
            [2.78306, 0.35080],
            [2.825516, 0.31193],
            [2.86797, 0.270693],
            [2.90943, 0.229844],
            [2.95188, 0.188688],
            [2.99434, 0.14705],
            [3.036794, 0.105686],
            [3.07825, 0.063264],
            [3.120706, 0.021888],
            [3.16216, -0.0218078],
            [3.204614, -0.06334],
            [3.247073, -0.106106],
            [3.289526, -0.14442],
            [3.33198, -0.188415],
            [3.37344, -0.229864],
            [3.415892, -0.277405],
            [3.457346, -0.31721],
            [3.500805, -0.3501],
            [3.54226, -0.38906],
            [3.584717, -0.42209],
            [3.62617, -0.466104],
            [3.668625, -0.50319],
            [3.710083, -0.53652],
            [3.753537, -0.57245],
            [3.79599, -0.60893],
            [3.83745, -0.64038],
            [3.879903, -0.67682],
            [3.921357, -0.70374],
            [3.963815, -0.73749],
            [4.00627, -0.76069],
            [4.04872, -0.78725],
            [4.09018, -0.81215],
            [4.13264, -0.83658],
            [4.17409, -0.85848],
            [4.21655, -0.87941],
            [4.259005, -0.89928],
            [4.301455, -0.9126],
            [4.34391, -0.93205],
            [4.38537, -0.94778],
            [4.42782, -0.95909],
            [4.46928, -0.97088],
            [4.51274, -0.98002],
            [4.55419, -0.98731],
            [4.596645, -0.99883],
            [4.6381, -0.99728],
            [4.68055, -0.99985],
            [4.72201, -0.99992],
            [4.76547, -0.99889],
            [4.80792, -0.9955],
            [4.84938, -0.99099],
            [4.89184, -0.98384],
            [4.93329, -0.97556],
            [4.97574, -0.96538],
            [5.0182, -0.95360],
            [5.06066, -0.94027],
            [5.10211, -0.92491],
            [5.14457, -0.90851],
            [5.18603, -0.88936],
            [5.228476, -0.86829],
            [5.27193, -0.84788],
            [5.31339, -0.8246],
            [5.35584, -0.80092],
            [5.3973, -0.77429],
            [5.43976, -0.74695],
            [5.48121, -0.71856],
            [5.52467, -0.68827],
            [5.56612, -0.6572],
            [5.60857, -0.62493],
            [5.65003, -0.59154],
            [5.69249, -0.55609],
            [5.73494, -0.52169],
            [5.7774, -0.484737],
            [5.81986, -0.44764],
            [5.86131, -0.409297],
            [5.90376, -0.37075],
            [5.94522, -0.330824],
            [5.98868, -0.29023],
            [6.03013, -0.25038],
            [6.07259, -0.209297],
            [6.11405, -0.167548],
            [6.1565, -0.126],
            [6.198955, -0.082],
            [6.24141, -0.042],
          ];
        case 'ds3':
          return [
            [0.00e+00, 0.0401],
            [1.00e+00, 0.0592],
            [2.00e+00, 0.0910],
            [3.00e+00, 0.0599],
            [4.00e+00, 0.0380],
            [5.00e+00, 0.0674],
            [6.00e+00, 0.0906],
            [7.00e+00, 0.0659],
            [8.00e+00, 0.0927],
            [9.00e+00, 0.0416],
            [1.00e+01, 0.0648],
            [1.10e+01, 0.0585],
            [1.20e+01, 0.0899],
            [1.30e+01, 0.0426],
            [1.40e+01, 0.0435],
            [1.50e+01, 0.0917],
            [1.60e+01, 0.0795],
            [1.70e+01, 0.0849],
            [1.80e+01, 0.0757],
            [1.90e+01, 0.129],
            [2.00e+01, 0.262],
            [2.10e+01, 0.131],
            [2.20e+01, 0.125],
            [2.30e+01, 0.219],
            [2.40e+01, 0.195],
            [2.50e+01, 0.257],
            [2.60e+01, 0.407],
            [2.70e+01, 0.520],
            [2.80e+01, 0.532],
            [2.90e+01, 0.586],
            [3.00e+01, 0.682],
            [3.10e+01, 0.715],
            [3.20e+01, 0.718],
            [3.30e+01, 0.757],
            [3.40e+01, 0.776],
            [3.50e+01, 0.786],
            [3.60e+01, 0.807],
            [3.70e+01, 0.824],
            [3.80e+01, 0.846],
            [3.90e+01, 0.848],
            [4.00e+01, 0.862],
            [4.10e+01, 0.870],
            [4.20e+01, 0.881],
            [4.30e+01, 0.886],
            [4.40e+01, 0.895],
            [4.50e+01, 0.902],
            [4.60e+01, 0.907],
            [4.70e+01, 0.909],
            [4.80e+01, 0.914],
            [4.90e+01, 0.920],
            [5.00e+01, 0.922],
            [5.10e+01, 0.926],
            [5.20e+01, 0.931],
            [5.30e+01, 0.932],
            [5.40e+01, 0.938],
            [5.50e+01, 0.939],
            [5.60e+01, 0.942],
            [5.70e+01, 0.945],
            [5.80e+01, 0.947],
            [5.90e+01, 0.949],
            [6.00e+01, 0.951],
            [6.10e+01, 0.953],
            [6.20e+01, 0.955],
            [6.30e+01, 0.956],
            [6.40e+01, 0.958],
            [6.50e+01, 0.960],
            [6.60e+01, 0.961],
            [6.70e+01, 0.963],
            [6.80e+01, 0.964],
            [6.90e+01, 0.965],
            [7.00e+01, 0.967],
            [7.10e+01, 0.968],
            [7.20e+01, 0.969],
            [7.30e+01, 0.970],
            [7.40e+01, 0.971],
            [7.50e+01, 0.971],
            [7.60e+01, 0.972],
            [7.70e+01, 0.973],
            [7.80e+01, 0.974],
            [7.90e+01, 0.974],
            [8.00e+01, 0.975],
            [8.10e+01, 0.976],
            [8.20e+01, 0.976],
            [8.30e+01, 0.977],
            [8.40e+01, 0.978],
            [8.50e+01, 0.978],
            [8.60e+01, 0.979],
            [8.70e+01, 0.979],
            [8.80e+01, 0.980],
            [8.90e+01, 0.980],
            [9.00e+01, 0.981],
            [9.10e+01, 0.981],
            [9.20e+01, 0.982],
            [9.30e+01, 0.982],
            [9.40e+01, 0.982],
            [9.50e+01, 0.983],
            [9.60e+01, 0.983],
            [9.70e+01, 0.984],
            [9.80e+01, 0.984],
            [9.90e+01, 0.984],
            [1.00e+02, 0.985],
            [1.01e+02, 0.985],
            [1.02e+02, 0.985],
            [1.03e+02, 0.985],
            [1.04e+02, 0.986],
            [1.05e+02, 0.986],
            [1.06e+02, 0.986],
            [1.07e+02, 0.987],
            [1.08e+02, 0.987],
            [1.09e+02, 0.987],
            [1.10e+02, 0.987],
            [1.11e+02, 0.987],
            [1.12e+02, 0.988],
            [1.13e+02, 0.988],
            [1.14e+02, 0.988],
            [1.15e+02, 0.988],
            [1.16e+02, 0.989],
            [1.17e+02, 0.989],
            [1.18e+02, 0.989],
            [1.19e+02, 0.989],
            [1.20e+02, 0.989],
            [1.21e+02, 0.989],
            [1.22e+02, 0.990],
            [1.23e+02, 0.990],
            [1.24e+02, 0.990],
            [1.25e+02, 0.990],
            [1.26e+02, 0.990],
            [1.27e+02, 0.990],
            [1.28e+02, 0.991],
            [1.29e+02, 0.991],
            [1.30e+02, 0.991],
            [1.31e+02, 0.991],
            [1.32e+02, 0.991],
            [1.33e+02, 0.991],
            [1.34e+02, 0.991],
            [1.35e+02, 0.991],
            [1.36e+02, 0.992],
            [1.37e+02, 0.992],
            [1.38e+02, 0.992],
            [1.39e+02, 0.992],
            [1.40e+02, 0.992],
            [1.41e+02, 0.992],
            [1.42e+02, 0.992],
            [1.43e+02, 0.992],
            [1.44e+02, 0.992],
            [1.45e+02, 0.993],
            [1.46e+02, 0.993],
            [1.47e+02, 0.993],
            [1.48e+02, 0.993],
            [1.49e+02, 0.993],

          ];
        case 'ds4':
          return [
            [1, 100],
            [2, 200],
            [3, 150],
            [4, 300],
            [5, 250],
            [6, 180],
            [7, 220],
            [8, 350],
            [9, 400],
            [10, 380],
          ];
        default:
          return [];
      }
    },
    getDatasetXLabel(dataset) {
      switch (dataset) {
        case 'ds1':
          return 'x';
        case 'ds2':
          return 'x';
        case 'ds3':
          return 'Time';
        case 'ds4':
          return 'x';
        default:
          return '';
      }
    },
    getDatasetYLabel(dataset) {
      switch (dataset) {
        case 'ds1':
          return 'Value';
        case 'ds2':
          return 'Sin (x)';
        case 'ds3':
          return 'Order Parameter';
        case 'ds4':
          return 'Dummy Value';
        default:
          return '';
      }
    },
  },
};
</script>

<style scoped>
.chart-container {
  width: 100%;
  height: 500px;
  position: relative;
}

.chart {
  width: 100%;
  height: 100%;
  transition: 1s ease all;
}
</style>
